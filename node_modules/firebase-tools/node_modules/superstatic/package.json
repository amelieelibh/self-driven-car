{
  "name": "superstatic",
  "version": "5.0.1",
  "description": "A static file server for fancy apps",
  "main": "./lib",
  "scripts": {
    "test": "npm run lint && npm run coverage",
    "test-unit": "mocha test/unit/**",
    "test-integration": "mocha test/integration/**",
    "lint": "eslint .",
    "coverage": "istanbul cover --print detail ./node_modules/.bin/_mocha -- test/unit/** test/integration/**",
    "outdated": "npm outdated --depth 0",
    "audit": "npm shrinkwrap --dev && nsp check || true && rm npm-shrinkwrap.json",
    "watch": "mocha -w test/unit/** test/integration/**"
  },
  "author": {
    "name": "Firebase",
    "url": "https://www.firebase.com/"
  },
  "license": "MIT",
  "bin": {
    "superstatic": "bin/server"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/firebase/superstatic.git"
  },
  "bugs": {
    "url": "https://github.com/firebase/superstatic/issues"
  },
  "keywords": [
    "static",
    "server",
    "firebase",
    "hosting",
    "pushstate",
    "html5",
    "router",
    "file",
    "directory",
    "hash",
    "hashbang"
  ],
  "dependencies": {
    "as-array": "^2.0.0",
    "async": "^1.5.2",
    "basic-auth-connect": "^1.0.0",
    "chalk": "^1.1.3",
    "char-spinner": "^1.0.1",
    "compare-semver": "^1.0.0",
    "compression": "^1.7.0",
    "connect": "^3.6.2",
    "connect-query": "^1.0.0",
    "destroy": "^1.0.4",
    "fast-url-parser": "^1.1.3",
    "fs-extra": "^0.30.0",
    "glob": "^7.1.2",
    "glob-slasher": "^1.0.1",
    "home-dir": "^1.0.0",
    "is-url": "^1.2.2",
    "join-path": "^1.1.1",
    "lodash": "^4.17.4",
    "mime-types": "^2.1.16",
    "minimatch": "^3.0.4",
    "morgan": "^1.8.2",
    "nash": "^2.0.4",
    "on-finished": "^2.2.0",
    "on-headers": "^1.0.0",
    "path-to-regexp": "^1.7.0",
    "router": "^1.3.1",
    "rsvp": "^3.6.2",
    "string-length": "^1.0.0",
    "try-require": "^1.0.0",
    "update-notifier": "^1.0.3"
  },
  "devDependencies": {
    "chai": "^3.5.0",
    "chai-as-promised": "^5.3.0",
    "concat-stream": "^1.5.1",
    "eslint": "^2.9.0",
    "istanbul": "^0.4.5",
    "mocha": "^2.5.3",
    "nsp": "^2.6.3",
    "request": "^2.81.0",
    "sinon": "^1.17.7",
    "sinon-chai": "^2.12.0",
    "std-mocks": "^1.0.1",
    "supertest": "^1.2.0"
  },
  "readme": "# Superstatic   [![NPM Module](http://img.shields.io/npm/v/superstatic.svg?style=flat-square)](https://npmjs.org/package/superstatic) [![NPM download count](https://img.shields.io/npm/dm/superstatic.svg?style=flat-square)](https://npmjs.org/package/superstatic) [![Build Status](http://img.shields.io/travis/firebase/superstatic.svg?style=flat-square)](https://travis-ci.org/firebase/superstatic) [![Code Climate](https://codeclimate.com/github/firebase/superstatic/badges/gpa.svg)](https://codeclimate.com/github/firebase/superstatic)\n\nSuperstatic is an enhanced static web server that was built to power.\nIt has fantastic support for HTML5 pushState applications, clean URLs,\ncaching, and many other goodies.\n\n## Documentation\n\n* [Installation](#installation)\n* [Usage](#usage)\n* [Configuration](#configuration)\n* [API](#api)\n  * [Middleware](#middleware)\n  * [Server](#server)\n* [Providers](#providers)\n  * [Authoring Providers](#authoring-providers)\n* [Run Tests](#run-tests)\n* [Changelog](https://github.com/firebase/superstatic/blob/master/CHANGELOG.md)\n* [Contributing](#contributing)\n\n## Installation\n\nSuperstatic should be installed globally using npm:\n\nFor use via CLI\n\n```\n$ npm install -g superstatic\n```\n\nFor use via API\n\n```\nnpm install superstatic --save\n```\n\n## Usage\n\nBy default, Superstatic will simply serve the current directory on port\n`3474`. This works just like any other static server:\n\n```\n$ superstatic\n```\n\nYou can optionally specify the directory, port and hostname of the server:\n\n```\n$ superstatic public --port 8080 --host 127.0.0.1\n```\n\n## Configuration\n\nSuperstatic reads special configuration from a JSON file (either `superstatic.json`\nor `firebase.json` by default, configurable with `-c`). This JSON file enables\nenhanced static server functionality beyond simply serving files.\n\n**public:** by default, Superstatic will serve the current working directory (or the\nancestor of the current directory that contains the configuration json being used).\nThis configuration key specifies a directory *relative to the configuration file* that\nshould be served. For example, if serving a Jekyll app, this might be set to `\"_site\"`.\nA directory passed as an argument into the command line app supercedes this configuration\ndirective.\n\n**cleanUrls:** if `true`, all `.html` files will automatically have their extensions\ndropped. If `.html` is used at the end of a filename, it will perform a 301 redirect\nto the same path with `.html` dropped.\n\nAll paths have clean urls\n\n```json\n{\n  \"cleanUrls\": true\n}\n```\n\nOnly specific paths get clean urls\n\n```json\n{\n  \"cleanUrls\": [\"/app/**\", \"/!components/**\"]\n}\n```\n\n**rewrites:** you can specify custom route recognition for your application by supplying\nan object to the routes key. Use a single star `*` to replace one URL segment or a\ndouble star to replace an arbitrary piece of URLs. This works great for single page\napps. An example:\n\n```json\n{\n  \"rewrites\": [\n    {\"source\":\"app/**\",\"destination\":\"/application.html\"},\n    {\"source\":\"projects/*/edit\",\"destination\":\"/projects.html\"}\n  ]\n}\n```\n\n**redirects:** you can specify certain url paths to be redirected to another url by supplying configuration to the `redirects` key. Path matching is similar to using custom routes. `redirects` use the `301` HTTP status code by default, but this can be overridden by configuration.\n\n```json\n{\n  \"redirects\": [\n    {\"source\":\"/some/old/path\", \"destination\":\"/some/new/path\"},\n    {\"source\":\"/firebase/*\", \"destination\":\"https://www.firebase.com\", \"type\": 302}\n  ]\n}\n```\n\nRoute segments are also supported in the `redirects` configuration. Segmented `redirects` also support custom status codes (see above):\n\n```json\n{\n  \"redirects\": [\n    {\"source\":\"/old/:segment/path\", \"destination\":\"/new/path/:segment\"}\n  ]\n}\n```\n\nIn this example, `/old/custom-segment/path` redirects to `/new/path/custom-segment`\n\n**headers:** Superstatic allows you to set the response headers for certain paths as well:\n\n```json\n{\n  \"headers\": [\n    {\n      \"source\" : \"**/*.@(eot|otf|ttf|ttc|woff|font.css)\",\n      \"headers\" : [{\n        \"key\" : \"Access-Control-Allow-Origin\",\n        \"value\" : \"*\"\n      }]\n    }, {\n      \"source\" : \"**/*.@(jpg|jpeg|gif|png)\",\n      \"headers\" : [{\n        \"key\" : \"Cache-Control\",\n        \"value\" : \"max-age=7200\"\n      }]\n    }, {\n      \"source\" : \"404.html\",\n      \"headers\" : [{\n        \"key\" : \"Cache-Control\",\n        \"value\" : \"max-age=300\"\n      }]\n    }]\n  }\n}\n```\n\n**trailingSlash:** Have full control over whether or not your app has or doesn't have trailing slashes. By default, Superstatic will make assumptions for on the best times to add or remove the trailing slash. Other options include `true`, which always adds a trailing slash, and `false`, which always removes the trailing slash.\n\n```json\n{\n  \"trailingSlash\": true\n}\n```\n\n## API\n\nSuperstatic is available as a middleware and a standalone [Connect](http://www.npmjs.org/package/connect) server. This means you can plug this into your current server or run your own static server using Superstatic's server.\n\n\n### Middleware\n\n```js\nvar superstatic = require('superstatic')\nvar connect = require('connect');\n\nvar app = connect()\n\t.use(superstatic(/* options */));\n\napp.listen(3000, function() {\n\n});\n\n```\n\n### `superstatic([options])`\n\nInstantiates middleware. See an [example](https://github.com/firebase/superstatic/tree/master/examples) for detail on real world use.\n\n* `options` - Optional configuration:\n  * `fallthrough` - When `false`, render a 404 page from within Superstatic rather than calling through to the next middleware. Defaults to `true`.\n  * `config` - A file path to your application's configuration file (see [Configuration](#configuration)) or an object containing your application's configuration. If an object is provided, it will be merged into existing config in a `superstatic.json`.\n  * `protect` - Adds HTTP basic auth. Example:  `username:password`\n  * `env`- A file path your application's environment variables file or an object containing values that are made available at the urls `/__/env.json` and `/__/env.js`. See the documentation detail on [environment variables](http://docs.firebase.com/guides/environment-variables).\n  * `cwd` - The current working directory to set as the root. Your application's `public` configuration option will be used relative to this.\n  * `compression` - An option which controls superstatic's response compression. Pass in a standard `compression(req, res, next)` Express middleware function to override the default compression behavior (for example, require [shrink-ray](https://www.npmjs.com/package/shrink-ray) to enable advanced compression schemes such as brotli, or require node.js' stock [compression](https://www.npmjs.com/package/compression) middleware yourself to change the compression quality and caching behavior). Any other truthy value will default to the stock node.js middleware.\n\n### Server\n\n```js\nvar superstatic = require('superstatic').server;\n\nvar app = superstatic(/* options */);\n\nvar server = app.listen(function() {\n\n});\n```\n\nSince Superstatic's server is a barebones Connect server using the Superstatic middleware, see the [Connect documentation](https://github.com/senchalabs/connect) on how to correctly instantiate, start, and stop the server.\n\n### `superstatic([options])`\n\nInstantiates a Connect server, setting up Superstatic middleware, port, host, debugging, compression, etc.\n\n* `options` - Optional configuration. Uses the same options as the middleware, plus a few more options:\n  * `port` - The port of the server. Defaults to `3474`.\n  * `host` or `hostname` - The hostname of the server. Defaults to `localhost`.\n  * `errorPage` - A file path to a custom error page. Defaults to [Superstatic's error page](https://github.com/firebase/superstatic/blob/master/lib/assets/not_found.html).\n  * `debug` - A boolean value that tells Superstatic to show or hide network logging in the console. Defaults to `false`.\n  * `compression` - A boolean value that tells Superstatic to serve gzip/deflate compressed responses based on the request Accept-Encoding header and the response Content-Type header. Defaults to `false`.\n  * `gzip` **[DEPRECATED]** - A boolean value which is now equivalent in behavior to `compression`. Defaults to `false`.\n\n## Providers\n\nSuperstatic reads content from **providers**. The default provider for Superstatic\nreads from the local filesystem. Other providers can be substituted when initializing\nSuperstatic:\n\n```js\nsuperstatic({\n  provider: require('superstatic-someprovider')({\n    provider: 'options'\n  })\n});\n```\n\n### Authoring Providers\n\nImplementing a new provider is quite simple. You simply need to create a function\nthat takes a request and pathname and returns a Promise. The Promise should:\n\n1. Resolve `null` when content isn't found (i.e. a 404 response).\n2. Resolve with a metadata object as described below when content is found.\n3. Reject when an error occurs in the content-fetching process.\n\nThe metadata object returned by a provider needs the following properties:\n\n* **stream:** A readable stream for the content.\n* **size:** The length of the content.\n* **etag:** (optional) a content-unique string such as an MD5 hash computed from the content\n* **modified:** (optional) a Date object for when the content was last modified\n\nA simple in-memory store provider can be found at `lib/providers/memory.js` in\nthis repo as a simple reference example of a provider.\n\n**Note:** The pathname will be URL-encoded. You should make sure your provider\nproperly handles files with non-standard characters (spaces, unicode, etc).\n\n## Run Tests\n\nIn superstatic module directory:\n\n```\nnpm install\nnpm test\n```\n\n## Contributing\n\nWe LOVE open source and open source contributors. If you would like to contribute to Superstatic, please review our [contributing guidelines](https://github.com/firebase/superstatic/blob/master/CONTRIBUTING.md) before you jump in and get your hands dirty.\n",
  "readmeFilename": "README.md",
  "homepage": "https://github.com/firebase/superstatic",
  "_id": "superstatic@5.0.1",
  "_from": "superstatic@>=5.0.1 <6.0.0"
}
